<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Anime Streaming - Trang Ch·ªß (Wheel Spin)</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header class="wrap">
  <div class="header-inner">
    <div class="header-side left">
      <div id="hamburgerBtn" class="hamburger-btn" title="Menu">
        <div class="bars">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
      </div>

      <div id="vipHeaderChip" class="header-chip" style="display:none">üëë <span id="vipRemainSmall" style="margin-left:8px;font-weight:600"></span></div>
    </div>

    <div class="header-title">Anime Streaming</div>

    <div class="header-side right">
      <div class="header-chip">ü™ô <span id="coinValue">0</span></div>
    </div>
  </div>
</header>

<!-- SIDE PANEL + OVERLAY -->
<div id="sideOverlay" class="side-overlay" aria-hidden="true"></div>
<aside id="sidePanel" class="side-panel" aria-hidden="true">
  <div class="menu-header">
    <div class="avatar" id="menuAvatar">V</div>
    <div>
      <div style="font-weight:800" id="menuUser">Kh√°ch</div>
      <div style="font-size:13px;color:#9fb7c8">Xin ch√†o! (Local)</div>
    </div>
  </div>

  <nav class="menu-list" aria-label="Menu ch√≠nh">
    <div class="menu-item" data-action="home">üè† <span>Trang Ch·ªß</span></div>
    <div class="menu-item" data-action="favorites">üíñ <span>Y√™u th√≠ch</span> <span class="badge" id="menuFavCount">0</span></div>
    <div class="menu-item" data-action="history">üïò <span>L·ªãch s·ª≠ xem</span> <span class="badge" id="menuHistCount">0</span></div>
    <div class="menu-item" data-action="following">üë• <span>Theo d√µi</span> <span class="badge" id="menuFollowCount">0</span></div>

    <!-- NEW: V√≤ng quay (m·ªü section) -->
    <div class="menu-item" data-action="spin">üé° <span>V√≤ng quay may m·∫Øn</span></div>
  </nav>
</aside>

<div class="container wrap">

  <div class="search-box">
    <div class="search-left">
      <span>üîç</span>
      <input id="searchInput" placeholder="T√¨m ki·∫øm anime...">
    </div>

    <div class="search-actions">
      <button id="openBuy" class="pill-btn primary" title="Mua code VIP">Mua code VIP</button>
      <button id="openEnter" class="pill-btn ghost" title="Nh·∫≠p code VIP">Nh·∫≠p code</button>
    </div>
  </div>

  <div class="hint">M·ªçi anime c√≥ tag <strong>üëë VIP</strong> c·∫ßn k√≠ch ho·∫°t m√£ VIP ƒë·ªÉ xem (n·∫øu b·∫°n ch∆∞a c√≥ VIP s·∫Ω b·ªã kho√°).</div>

  <div id="sectionTitle"> </div>

  <div class="top-actions">
    <div class="filters" style="flex:1">
      <select id="genreFilter">
        <option value="all">T·∫•t c·∫£ th·ªÉ lo·∫°i</option>
        <option value="Shoujo Ai">Shoujou Ai</option>
        <option value="H·ªçc ƒë∆∞·ªùng">H·ªçc ƒë∆∞·ªùng</option>
        <option value="Music">Music</option>
        <option value="L√£ng m·∫°n">L√£ng m·∫°n</option>
        <option value="H√†nh ƒë·ªông">H√†nh ƒë·ªông</option>
      </select>

      <select id="sortFilter">
        <option value="none">S·∫Øp x·∫øp</option>
        <option value="newest">M·ªõi nh·∫•t</option>
        <option value="oldest">C≈© nh·∫•t</option>
        <option value="rating">ƒê√°nh gi√° cao</option>
      </select>
    </div>

    <div style="display:flex;gap:8px;align-items:center">
      <div class="small-muted">Gi√° 1 code VIP: <strong id="vipCost">100</strong> xu</div>
    </div>
  </div>

  <!-- Main anime grid (kept) -->
  <div class="anime-grid" id="animeGrid"></div>

  <!-- ===== SPIN SECTION (replaces modal) ===== -->
  <div id="spinSection" aria-hidden="true">
    <div id="spinInner">
      <div id="sectionTitleSpin" style="font-weight:800; font-size:18px; margin:10px 6px;">üé° V√≤ng quay may m·∫Øn</div>
      <div class="hint" style="margin-top:0">Ch·ªçn 1 v√≤ng quay r·ªìi b·∫•m "Quay". Wheel s·∫Ω xoay th·∫≠t v√† tr·∫£ m√£ VIP n·∫øu tr√∫ng.</div>

      <div style="text-align:center;margin-top:12px">
        <div id="wheelContainer" aria-hidden="false">
          <div id="wheel"></div>
          <div class="wheel-pointer" aria-hidden="true"></div>
        </div>
        <div id="wheelLegend" class="wheel-legend" aria-hidden="false"></div>
      </div>

      <div class="spin-cards-wrap">
        <div id="spin50" class="spin-card" data-cost="50">
          <div style="font-weight:800">V√≤ng 50 xu</div>
          <div class="prize-list">
            <div class="prize-item"><span>Kh√¥ng tr√∫ng</span><strong>40%</strong></div>
            <div class="prize-item"><span>VIP 30 ph√∫t</span><strong>30%</strong></div>
            <div class="prize-item"><span>VIP 60 ph√∫t</span><strong>20%</strong></div>
            <div class="prize-item"><span>VIP 120 ph√∫t</span><strong>10%</strong></div>
          </div>
        </div>

        <div id="spin100" class="spin-card selected" data-cost="100">
          <div style="font-weight:800">V√≤ng 100 xu</div>
          <div class="prize-list">
            <div class="prize-item"><span>Kh√¥ng tr√∫ng</span><strong>38%</strong></div>
            <div class="prize-item"><span>VIP 60 ph√∫t</span><strong>40%</strong></div>
            <div class="prize-item"><span>VIP 180 ph√∫t</span><strong>20%</strong></div>
            <div class="prize-item"><span>VIP 300 ph√∫t</span><strong>2%</strong></div>
          </div>
        </div>

        <div id="spin150" class="spin-card" data-cost="150">
          <div style="font-weight:800">V√≤ng 150 xu</div>
          <div class="prize-list">
            <div class="prize-item"><span>Kh√¥ng tr√∫ng</span><strong>43%</strong></div>
            <div class="prize-item"><span>VIP 120 ph√∫t</span><strong>34%</strong></div>
            <div class="prize-item"><span>VIP 240 ph√∫t</span><strong>22%</strong></div>
            <div class="prize-item"><span>VIP 480 ph√∫t</span><strong>1%</strong></div>
          </div>
        </div>
      </div>

      <div class="spin-actions">
        <button id="spinStartBtn" class="pill-btn primary">Quay</button>
        <button id="spinCloseBtn" class="pill-btn ghost">ƒê√≥ng</button>
      </div>

      <div id="spinResultBlock" style="margin-top:12px;text-align:center;display:none">
        <div id="spinResultText" style="font-weight:800"></div>
        <div style="margin-top:8px"><button id="copySpinCode" class="copy-btn" style="display:none">Sao ch√©p m√£ VIP</button></div>
      </div>

      <div style="height:18px"></div>
    </div>
  </div>
  <!-- ===== end spin section ===== -->

</div><!-- .container -->

<!-- Buy Modal -->
<div class="modal-backdrop" id="buyModal">
  <div class="modal">
    <h3>Mua code VIP</h3>
    <div class="row small-muted">M·ªói m√£ k√≠ch ho·∫°t VIP d√πng ƒë∆∞·ª£c 1 gi·ªù. Mua s·∫Ω tr·ª´ <strong id="modalCost">100</strong> xu.</div>

    <div style="display:flex;gap:8px;margin-bottom:10px">
      <button id="confirmBuy" class="pill-btn primary">X√°c nh·∫≠n mua (random)</button>
      <button id="cancelBuy" class="pill-btn ghost">H·ªßy</button>
    </div>

    <div id="buyResult" style="display:none">
      <div class="row small-muted">M√£ b·∫°n nh·∫≠n ƒë∆∞·ª£c (ƒë√£ chuy·ªÉn v√†o "M√£ ƒë√£ mua"):</div>
      <div class="buy-result">
        <div id="boughtCode" style="font-weight:700"></div>
        <div style="display:flex;gap:8px">
          <button id="copyBought" class="copy-btn">Sao ch√©p</button>
          <button id="gotoEnter" class="pill-btn">Nh·∫≠p m√£</button>
        </div>
      </div>
      <div class="row small-muted" style="margin-top:10px">L∆∞u √Ω: M√£ ch·ªâ ƒë∆∞·ª£c k√≠ch ho·∫°t khi b·∫°n **nh·∫≠p m√£** ·ªü modal "Nh·∫≠p m√£". Mua kh√¥ng t·ª± k√≠ch ho·∫°t VIP.</div>
    </div>
  </div>
</div>

<!-- Enter Modal -->
<div class="modal-backdrop" id="enterModal">
  <div class="modal">
    <h3>Nh·∫≠p m√£ VIP</h3>
    <div class="row">
      <input id="codeInput" placeholder="Nh·∫≠p m√£... (vd VIP-XXXX-YYYY)" />
    </div>
    <div style="display:flex;gap:8px">
      <button id="confirmEnter" class="pill-btn primary">X√°c nh·∫≠n</button>
      <button id="cancelEnter" class="pill-btn ghost">H·ªßy</button>
    </div>
    <div id="enterResult" class="row small-muted" style="display:none;margin-top:8px"></div>
    <div class="row small-muted" style="margin-top:8px">
      <strong>M√£ ƒë√£ mua:</strong> <span id="purchasedList">‚Äî</span>
    </div>
  </div>
</div>

<!-- VIP required modal -->
<div class="modal-backdrop" id="vipRequiredModal">
  <div class="modal">
    <h3>Phim n√†y y√™u c·∫ßu VIP</h3>
    <div class="row small-muted" id="vipReqText">B·∫°n c·∫ßn k√≠ch ho·∫°t VIP ƒë·ªÉ xem b·ªô phim n√†y.</div>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button id="vipReqBuy" class="pill-btn primary">Mua code ngay</button>
      <button id="vipReqEnter" class="pill-btn ghost">Nh·∫≠p m√£</button>
      <button id="vipReqClose" class="pill-btn">ƒê√≥ng</button>
    </div>
  </div>
</div>

<script src="main.js" type="text/javascript" charset="utf-8"></script>
 
</body>
</html>